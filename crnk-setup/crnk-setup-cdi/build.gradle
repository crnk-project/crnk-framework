plugins {
	id 'java'
	id 'java-library'
	id 'idea'
}

dependencies {
	implementation project(':crnk-core')
	implementation group: 'jakarta.platform', name: 'jakarta.jakartaee-api', version: '10.0.0'

	testImplementation  "org.junit.jupiter:junit-jupiter-api:5.10.0"
	testImplementation  "org.junit.jupiter:junit-jupiter-params:5.10.0"
	testImplementation  "org.junit.jupiter:junit-jupiter-engine:5.10.0"
	testImplementation  "org.junit.vintage:junit-vintage-engine:5.10.0"

	testImplementation  'org.apache.deltaspike.modules:deltaspike-test-control-module-api:1.9.6'
	testImplementation  'org.apache.deltaspike.core:deltaspike-core-impl:1.9.6'
	testImplementation  'org.apache.deltaspike.modules:deltaspike-test-control-module-api:1.9.6'
	testImplementation  'org.apache.deltaspike.modules:deltaspike-test-control-module-impl:1.9.6'
	testImplementation  'org.apache.deltaspike.cdictrl:deltaspike-cdictrl-weld:1.9.6'
	testImplementation  group: 'org.jboss.weld.se', name: 'weld-se-core', version: '5.1.1.SP2'
	testImplementation  group: 'jakarta.platform', name: 'jakarta.jakartaee-api', version: '10.0.0'
}

// e.g. CDI expects those directories to be equal
sourceSets {
	main {
		output.resourcesDir = output.classesDirs.singleFile
	}
	test {
		output.resourcesDir = output.classesDirs.singleFile
	}
}
jar {
	duplicatesStrategy = 'exclude'
}

idea {
	module {
		idea.module.inheritOutputDirs = true
	}
}
